{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" href="{% static 'css/nav.css' %}">
    <link rel="stylesheet" href="{% static 'css/fonts.css' %}">
    <link rel="stylesheet" href="{% static 'css/typography.css' %}">
    <link rel="stylesheet" href="{% static 'css/pages/landing.css' %}">
    <link rel="stylesheet" href="{% static 'css/pages/about.css' %}">
    <link rel="stylesheet" href="{% static 'css/carousel.css' %}">
    <link rel="stylesheet" href="{% static 'css/footer.css' %}">
    <link rel="stylesheet" href="{% static 'css/pages/game_catalog.css' %}">
    <link rel="stylesheet" href="{% static 'css/pages/product_detail.css' %}">
    <link rel="stylesheet" href="{% static 'css/pages/rental_catalog.css' %}">
    <link rel="stylesheet" href="{% static 'css/pages/modal_order.css' %}">
    <link rel="stylesheet" href="{% static 'css/news_modal.css' %}">
    <link rel="stylesheet" href="{% static 'css/pages/two_games_on_one_board.css' %}">
    <link rel="stylesheet" href="{% static 'css/pages/additional_detail.css' %}">
    <title>
        {% block title %}
        Главная
        {% endblock title %}
    </title>
    {% block stylesheets %}{% endblock stylesheets %}
</head>
<body>
    {% block header %}
        {% include 'includes/include_nav_menu.html' %}
    {% endblock header %}


    {% block content %}
    {% endblock content %}
    {% include 'includes/modal_order.html' %}

    {% block footer %}
        {% include 'includes/include_footer.html' %}
    {% endblock footer %}

    {% block scripts %}
        <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
        <script src="{% static 'js/main.js' %}"></script>
        <script src="{% static 'js/news_modal.js' %}"></script>
        <script src="{% static 'js/rental_calculator.js' %}"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // Инициализация Swiper для всех каруселей
  document.querySelectorAll('.swiper').forEach((swiperEl) => {
    // Проверяем, является ли это каруселью аренды
    const isRentalCarousel = swiperEl.closest('.carousel-container') &&
    swiperEl.closest('.carousel-container').querySelector('.rental_catalog_landing_h');

    const swiperParams = {
      slidesPerGroup: 1,
      centeredSlides: true,
      autoplay: {
        delay: 2500,
        disableOnInteraction: false,
      },
      loop: true,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      breakpoints: {}
    };

    // Устанавливаем разные параметры для карусели аренды и остальных каруселей
    if (isRentalCarousel) {
      // Настройки для карусели аренды - 1 товар на слайде для мобильных, 3 для десктопа
      swiperParams.slidesPerView = 3;
      swiperParams.spaceBetween = 40;
      swiperParams.breakpoints = {
        320: { slidesPerView: 1, spaceBetween: 20 },
        480: { slidesPerView: 1, spaceBetween: 20 },
        640: { slidesPerView: 3, spaceBetween: 40 }
      };
    } else {
      swiperParams.slidesPerView = 1.5;
      swiperParams.centeredSlides = true;
      swiperParams.spaceBetween = 30;
      swiperParams.breakpoints = {
        320: { slidesPerView: 1.5, spaceBetween: 10 },
        480: { slidesPerView: 2.5, spaceBetween: 20 },
        640: { slidesPerView: 3, spaceBetween: 40 }
      };
    }

    new Swiper(swiperEl, swiperParams);
  });
});
</script>
    {% endblock scripts %}
</body>
</html>
